2025-12-09 15:24:36,659 - __main__ - INFO - Début du benchmark. Event: {"target_date": "2024-10-05", "metrix_env": null}
2025-12-09 15:24:36,660 - __main__ - INFO - Mode d'exécution: docker
2025-12-09 15:24:36,664 - __main__ - INFO - Date cible fournie: 2024-10-05
2025-12-09 15:24:36,664 - __main__ - INFO - Période cible: 2024-10-05T00:00:00+00:00 à 2024-10-05T23:59:59.999999+00:00
2025-12-09 15:24:36,664 - __main__ - INFO - Connexion à MongoDB: xxxx:yyyyy@mongodb:27017
2025-12-09 15:24:36,664 - __main__ - INFO - DATABASE_NAME: greencoop_forecast
2025-12-09 15:24:36,666 - __main__ - INFO - Connexion MongoDB établie
2025-12-09 15:24:36,672 - __main__ - INFO - Nombre de stations à tester: 6
2025-12-09 15:24:36,672 - __main__ - INFO - Environnement des metrix : test
2025-12-09 15:24:36,672 - __main__ - INFO - Requête générée: {'id_station': 'ILAMAD25', 'dh_utc': {'$gte': datetime.datetime(2024, 10, 5, 0, 0, tzinfo=datetime.timezone.utc), '$lte': datetime.datetime(2024, 10, 5, 23, 59, 59, 999999, tzinfo=datetime.timezone.utc)}}/2024-10-05 00:00:00+00:00/2024-10-05 23:59:59.999999+00:00
2025-12-09 15:24:36,676 - __main__ - INFO - Initialisation CloudWatch en local - région: eu-west-3
2025-12-09 15:24:36,870 - __main__ - INFO - Métriques CloudWatch test envoyées pour ILAMAD25
2025-12-09 15:24:36,871 - __main__ - INFO - Station ILAMAD25: 3.04ms (288 docs)
2025-12-09 15:24:36,871 - __main__ - INFO - Requête générée: {'id_station': 'IICHTE19', 'dh_utc': {'$gte': datetime.datetime(2024, 10, 5, 0, 0, tzinfo=datetime.timezone.utc), '$lte': datetime.datetime(2024, 10, 5, 23, 59, 59, 999999, tzinfo=datetime.timezone.utc)}}/2024-10-05 00:00:00+00:00/2024-10-05 23:59:59.999999+00:00
2025-12-09 15:24:36,901 - __main__ - INFO - Métriques CloudWatch test envoyées pour IICHTE19
2025-12-09 15:24:36,901 - __main__ - INFO - Station IICHTE19: 2.57ms (288 docs)
2025-12-09 15:24:36,901 - __main__ - INFO - Requête générée: {'id_station': '00052', 'dh_utc': {'$gte': datetime.datetime(2024, 10, 5, 0, 0, tzinfo=datetime.timezone.utc), '$lte': datetime.datetime(2024, 10, 5, 23, 59, 59, 999999, tzinfo=datetime.timezone.utc)}}/2024-10-05 00:00:00+00:00/2024-10-05 23:59:59.999999+00:00
2025-12-09 15:24:36,928 - __main__ - INFO - Métriques CloudWatch test envoyées pour 00052
2025-12-09 15:24:36,928 - __main__ - INFO - Station 00052: 1.50ms (144 docs)
2025-12-09 15:24:36,928 - __main__ - INFO - Requête générée: {'id_station': '000R5', 'dh_utc': {'$gte': datetime.datetime(2024, 10, 5, 0, 0, tzinfo=datetime.timezone.utc), '$lte': datetime.datetime(2024, 10, 5, 23, 59, 59, 999999, tzinfo=datetime.timezone.utc)}}/2024-10-05 00:00:00+00:00/2024-10-05 23:59:59.999999+00:00
2025-12-09 15:24:36,956 - __main__ - INFO - Métriques CloudWatch test envoyées pour 000R5
2025-12-09 15:24:36,956 - __main__ - INFO - Station 000R5: 1.51ms (144 docs)
2025-12-09 15:24:36,956 - __main__ - INFO - Requête générée: {'id_station': '07015', 'dh_utc': {'$gte': datetime.datetime(2024, 10, 5, 0, 0, tzinfo=datetime.timezone.utc), '$lte': datetime.datetime(2024, 10, 5, 23, 59, 59, 999999, tzinfo=datetime.timezone.utc)}}/2024-10-05 00:00:00+00:00/2024-10-05 23:59:59.999999+00:00
2025-12-09 15:24:36,983 - __main__ - INFO - Métriques CloudWatch test envoyées pour 07015
2025-12-09 15:24:36,983 - __main__ - INFO - Station 07015: 0.76ms (24 docs)
2025-12-09 15:24:36,983 - __main__ - INFO - Requête générée: {'id_station': 'STATIC0010', 'dh_utc': {'$gte': datetime.datetime(2024, 10, 5, 0, 0, tzinfo=datetime.timezone.utc), '$lte': datetime.datetime(2024, 10, 5, 23, 59, 59, 999999, tzinfo=datetime.timezone.utc)}}/2024-10-05 00:00:00+00:00/2024-10-05 23:59:59.999999+00:00
2025-12-09 15:24:37,012 - __main__ - INFO - Métriques CloudWatch test envoyées pour STATIC0010
2025-12-09 15:24:37,012 - __main__ - INFO - Station STATIC0010: 2.45ms (144 docs)
2025-12-09 15:24:37,012 - __main__ - INFO - Benchmark terminé. 6 stations traitées
2025-12-09 15:24:37,012 - __main__ - INFO - Résultat: {'statusCode': 200, 'body': '{"message": "Benchmark termin\\u00e9 avec succ\\u00e8s", "date_target": "2024-10-05T00:00:00+00:00", "stations_tested": 6, "details": [{"station": "ILAMAD25", "duration_ms": 3.04, "doc_count": 288}, {"station": "IICHTE19", "duration_ms": 2.57, "doc_count": 288}, {"station": "00052", "duration_ms": 1.5, "doc_count": 144}, {"station": "000R5", "duration_ms": 1.51, "doc_count": 144}, {"station": "07015", "duration_ms": 0.76, "doc_count": 24}, {"station": "STATIC0010", "duration_ms": 2.45, "doc_count": 144}]}'}
